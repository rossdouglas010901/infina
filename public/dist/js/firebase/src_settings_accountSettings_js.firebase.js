"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkpublic"] = self["webpackChunkpublic"] || []).push([["src_settings_accountSettings_js"],{

/***/ "./src/settings/accountSettings.js":
/*!*****************************************!*\
  !*** ./src/settings/accountSettings.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/index.esm.js\");\n/* harmony import */ var _config_firebase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/firebase.js */ \"./src/config/firebase.js\");\n/* harmony import */ var _functions_update__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../functions/update */ \"./src/functions/update.js\");\n/* harmony import */ var _functions_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../functions/dom */ \"./src/functions/dom.js\");\n// Importing External Modules\r\n\r\n\r\n// Importing Internal Modules\r\n\r\n\r\n\r\n\r\n// Setting Up modules\r\nconst firebaseApp = (0,_config_firebase_js__WEBPACK_IMPORTED_MODULE_1__.getFirebaseApp)();\r\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.getAuth)(firebaseApp);\r\n\r\n// Setting up route\r\nconst baseURL = window.location.protocol + '//' + window.location.host + '/';\r\nconst route = window.location.href.replace(baseURL,'').replace(/\\/$/, \"\").toLowerCase();\r\n\r\n// Setting Up event listeners\r\nauth.onAuthStateChanged(function(user) {\r\n    if (user && route == \"app/settings\") {\r\n\r\n        // Getting elements\r\n        const elmt = (0,_functions_dom__WEBPACK_IMPORTED_MODULE_3__.importELemntsByID)([\r\n            \"verifyEmailButton\",\r\n            \"saveProfileButton\"\r\n        ]);\r\n\r\n        elmt.verifyEmailButton.addEventListener(\"click\", verifyEmail, false)\r\n        elmt.saveProfileButton.addEventListener(\"click\", updateUserInfo, false)\r\n    }\r\n});\r\n\r\n// Updating User Info\r\nasync function updateUserInfo(){\r\n\r\n    // Getting Elements\r\n    const elmt = (0,_functions_dom__WEBPACK_IMPORTED_MODULE_3__.importELemntsByID)([\r\n        \"settingsDisplayName\",\r\n        \"settingsPhoneNumber\"\r\n    ]);\r\n\r\n    (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.updateProfile)(auth.currentUser, {\r\n        displayName: elmt.settingsDisplayName.value,\r\n        phoneNumber: elmt.settingsPhoneNumber.value\r\n      }).then(() => {\r\n        alert('Profile Updated');\r\n        (0,_functions_update__WEBPACK_IMPORTED_MODULE_2__.updateUI)();\r\n      }).catch((error) => {\r\n        alert('Something went wrong');\r\n      });\r\n}\r\n\r\n// Sending verification email\r\nasync function verifyEmail() {\r\n    (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.sendEmailVerification)(auth.currentUser)\r\n    .then(() => {\r\n        alert('verification Email sent')\r\n        ;(0,_functions_update__WEBPACK_IMPORTED_MODULE_2__.updateUI)();\r\n    });\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2V0dGluZ3MvYWNjb3VudFNldHRpbmdzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDa0c7QUFDbEc7QUFDQTtBQUN1RDtBQUNSO0FBQ0s7QUFDcEQ7QUFDQTtBQUNBLG9CQUFvQixtRUFBYztBQUNsQyxhQUFhLHNEQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlFQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlFQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNERBQWE7QUFDakI7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLFFBQVEsMkRBQVE7QUFDaEIsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxvRUFBcUI7QUFDekI7QUFDQTtBQUNBLFFBQVEsNERBQVE7QUFDaEIsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wdWJsaWMvLi9zcmMvc2V0dGluZ3MvYWNjb3VudFNldHRpbmdzLmpzPzIxMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0aW5nIEV4dGVybmFsIE1vZHVsZXNcclxuaW1wb3J0IHsgZ2V0QXV0aCwgdXBkYXRlUHJvZmlsZSwgc2VuZEVtYWlsVmVyaWZpY2F0aW9uLCBvbkF1dGhTdGF0ZUNoYW5nZWQgfSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xyXG5cclxuLy8gSW1wb3J0aW5nIEludGVybmFsIE1vZHVsZXNcclxuaW1wb3J0IHsgZ2V0RmlyZWJhc2VBcHAgfSBmcm9tIFwiLi4vY29uZmlnL2ZpcmViYXNlLmpzXCI7XHJcbmltcG9ydCB7IHVwZGF0ZVVJIH0gZnJvbSBcIi4uL2Z1bmN0aW9ucy91cGRhdGVcIjtcclxuaW1wb3J0IHsgaW1wb3J0RUxlbW50c0J5SUQgfSBmcm9tIFwiLi4vZnVuY3Rpb25zL2RvbVwiXHJcblxyXG4vLyBTZXR0aW5nIFVwIG1vZHVsZXNcclxuY29uc3QgZmlyZWJhc2VBcHAgPSBnZXRGaXJlYmFzZUFwcCgpO1xyXG5jb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcblxyXG4vLyBTZXR0aW5nIHVwIHJvdXRlXHJcbmNvbnN0IGJhc2VVUkwgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyAnLyc7XHJcbmNvbnN0IHJvdXRlID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZShiYXNlVVJMLCcnKS5yZXBsYWNlKC9cXC8kLywgXCJcIikudG9Mb3dlckNhc2UoKTtcclxuXHJcbi8vIFNldHRpbmcgVXAgZXZlbnQgbGlzdGVuZXJzXHJcbmF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKHVzZXIpIHtcclxuICAgIGlmICh1c2VyICYmIHJvdXRlID09IFwiYXBwL3NldHRpbmdzXCIpIHtcclxuXHJcbiAgICAgICAgLy8gR2V0dGluZyBlbGVtZW50c1xyXG4gICAgICAgIGNvbnN0IGVsbXQgPSBpbXBvcnRFTGVtbnRzQnlJRChbXHJcbiAgICAgICAgICAgIFwidmVyaWZ5RW1haWxCdXR0b25cIixcclxuICAgICAgICAgICAgXCJzYXZlUHJvZmlsZUJ1dHRvblwiXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGVsbXQudmVyaWZ5RW1haWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHZlcmlmeUVtYWlsLCBmYWxzZSlcclxuICAgICAgICBlbG10LnNhdmVQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB1cGRhdGVVc2VySW5mbywgZmFsc2UpXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gVXBkYXRpbmcgVXNlciBJbmZvXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXJJbmZvKCl7XHJcblxyXG4gICAgLy8gR2V0dGluZyBFbGVtZW50c1xyXG4gICAgY29uc3QgZWxtdCA9IGltcG9ydEVMZW1udHNCeUlEKFtcclxuICAgICAgICBcInNldHRpbmdzRGlzcGxheU5hbWVcIixcclxuICAgICAgICBcInNldHRpbmdzUGhvbmVOdW1iZXJcIlxyXG4gICAgXSk7XHJcblxyXG4gICAgdXBkYXRlUHJvZmlsZShhdXRoLmN1cnJlbnRVc2VyLCB7XHJcbiAgICAgICAgZGlzcGxheU5hbWU6IGVsbXQuc2V0dGluZ3NEaXNwbGF5TmFtZS52YWx1ZSxcclxuICAgICAgICBwaG9uZU51bWJlcjogZWxtdC5zZXR0aW5nc1Bob25lTnVtYmVyLnZhbHVlXHJcbiAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGFsZXJ0KCdQcm9maWxlIFVwZGF0ZWQnKTtcclxuICAgICAgICB1cGRhdGVVSSgpO1xyXG4gICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcclxuICAgICAgfSk7XHJcbn1cclxuXHJcbi8vIFNlbmRpbmcgdmVyaWZpY2F0aW9uIGVtYWlsXHJcbmFzeW5jIGZ1bmN0aW9uIHZlcmlmeUVtYWlsKCkge1xyXG4gICAgc2VuZEVtYWlsVmVyaWZpY2F0aW9uKGF1dGguY3VycmVudFVzZXIpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgYWxlcnQoJ3ZlcmlmaWNhdGlvbiBFbWFpbCBzZW50JylcclxuICAgICAgICB1cGRhdGVVSSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/settings/accountSettings.js\n");

/***/ })

}]);